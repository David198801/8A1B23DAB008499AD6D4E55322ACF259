https://segmentfault.com/q/1010000039206504



1. 内网ip也能访问网站接收服务器响应，说明运营商是做了映射的。没有问题。

1. 就访问http请求而言，浏览器会建立TCP连接，并在此基础上建立HTTP连接。该TCP链接并不会并立即释放，该连接并不是时间很短或者是一次性。也没问题。

运营商在这的映射又称为NAT，是网络中为了解决IPV4资源匮乏提出的关键技术。但我们无法利用它来实现网站访问，大概有如下原因：

1. 该映射建立的前提是：内网主动发起网络连接请求。所以请求结束映射完全可以被删除；新的请求发生时，也完全可以再次建立一个新的映射。也就是说该映射是临时的，不确定的。

1. 我们很难（无法）获取这个映射值。

1. 即使是获取到了这个映射值，我们建立个网站最低的要求是访问地址稳定不变，不可能一会是a.com:123，一会又变成a.com:456。所以从这个角度上也失去了意义。

1. 这也是最主要的。接收请求的前提是建立TCP连接，TCP连接的前提是先进行三次握手，而NAT技术的特性决定了其不会处理（转发）该非内网主动发起的TCP连接请求。因而连接实际上无法建立。

综上，端口转发的思想没有错。但端口转发的前提是成功建立TCP连接，而NAT技术处理的是内网主动发起网络连接请求，同时忽略外网主动发起的网络连接请求。所以内网IP不能用这种思想建立网站。